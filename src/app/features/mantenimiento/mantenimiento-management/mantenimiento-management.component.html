<!-- detalle-tipo-mantenimiento.component.html -->
<main class="flex-1 px-4 sm:px-6 lg:px-10 py-8">
  <div class="max-w-7xl mx-auto flex flex-col gap-6">

    <!-- Título y botones de acción -->
    <div class="flex flex-wrap justify-between items-center gap-4">
      <h1 class="text-3xl font-black text-slate-900">Detalle de Tipo de Mantenimiento</h1>
      <div class="flex items-center gap-4">
        <!-- BOTÓN Crear -->
        <button
          class="flex items-center gap-2 h-10 px-4 bg-blue-600 text-white rounded-lg text-sm font-bold hover:bg-blue-700 transition"
          (click)="router.navigate(['/dashboard/mantenimiento/crear'])"
        >
          <!-- Icono "+" -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
          </svg>

          Crear mantenimiento
        </button>
      </div>
    </div>

    <!-- Información General -->
    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
      <h2 class="text-xl font-bold text-slate-900 mb-6">Información General</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">ID</label>
          <div class="w-full px-4 h-12 bg-slate-50 border border-slate-300 rounded-lg shadow-sm flex items-center text-slate-900 font-medium">
            {{ tipoMantenimiento.id }}
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Nombre</label>
          <div class="w-full px-4 h-12 bg-slate-50 border border-slate-300 rounded-lg shadow-sm flex items-center text-slate-900">
            {{ tipoMantenimiento.nombre }}
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Estado</label>
          <div class="w-full px-4 h-12 bg-slate-50 border border-slate-300 rounded-lg shadow-sm flex items-center">
            <span class="inline-flex items-center gap-1.5 py-1 px-2.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              <span class="size-2 rounded-full bg-green-500"></span>
              {{ tipoMantenimiento.estado }}
            </span>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Frecuencia</label>
          <div class="w-full px-4 h-12 bg-slate-50 border border-slate-300 rounded-lg shadow-sm flex items-center text-slate-900">
            {{ tipoMantenimiento.frecuencia }}
          </div>
        </div>

        <div class="lg:col-span-2">
          <label class="block text-sm font-medium text-slate-700 mb-1">Descripción</label>
          <div class="w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg shadow-sm text-slate-900">
            {{ tipoMantenimiento.descripcion }}
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Duración Estimada</label>
          <div class="w-full px-4 h-12 bg-slate-50 border border-slate-300 rounded-lg shadow-sm flex items-center text-slate-900">
            {{ tipoMantenimiento.duracion }}
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Creado el</label>
          <div class="w-full px-4 h-12 bg-slate-50 border border-slate-300 rounded-lg shadow-sm flex items-center text-slate-900">
            {{ tipoMantenimiento.creadoEl }}
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Última Actualización</label>
          <div class="w-full px-4 h-12 bg-slate-50 border border-slate-300 rounded-lg shadow-sm flex items-center text-slate-900">
            {{ tipoMantenimiento.ultimaActualizacion }}
          </div>
        </div>

      </div>
    </div>


    <!-- Mantenimientos Programados y Realizados -->
    <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-x-auto">

      <div class="p-6 border-b border-slate-200">
        <h2 class="text-xl font-bold text-slate-900">Mantenimientos Programados y Realizados</h2>
      </div>

      <!-- Tabla REAL (cuando sí hay datos) -->
      <table *ngIf="mantenimientos.length > 0" class="w-full text-sm text-left text-slate-500">
        <thead class="text-xs text-slate-700 uppercase bg-slate-50">
          <tr>
            <th class="px-6 py-3">ID</th>
            <th class="px-6 py-3">AERONAVE</th>
            <th class="px-6 py-3">FECHA PROGRAMADA</th>
            <th class="px-6 py-3">ESTADO</th>
            <th class="px-6 py-3 text-right">ACCIONES</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let mantenimiento of mantenimientos" class="bg-white border-b hover:bg-slate-50">
            <td class="px-6 py-4 font-medium text-slate-900">{{ mantenimiento.id }}</td>
            <td class="px-6 py-4">{{ mantenimiento.tipo_mantenimiento_id }}</td>
            <td class="px-6 py-4">{{ mantenimiento.fecha_programada | date:'yyyy-MM-dd' }}</td>

            <td class="px-6 py-4">
              <span class="inline-flex items-center gap-1.5 py-1 px-2.5 rounded-full text-xs font-medium"
                [ngClass]="{
                  'bg-blue-100 text-blue-800': mantenimiento.estado === 'programado',
                  'bg-yellow-100 text-yellow-800': mantenimiento.estado === 'en_proceso',
                  'bg-green-100 text-green-800': mantenimiento.estado === 'completado',
                  'bg-red-100 text-red-800': mantenimiento.estado === 'cancelado'
                }">
                <span class="size-2 rounded-full"
                  [ngClass]="{
                    'bg-blue-500': mantenimiento.estado === 'programado',
                    'bg-yellow-500': mantenimiento.estado === 'en_proceso',
                    'bg-green-500': mantenimiento.estado === 'completado',
                    'bg-red-500': mantenimiento.estado === 'cancelado'
                  }"></span>
                {{ mantenimiento.estado }}
              </span>
            </td>

            <td class="px-6 py-4 text-right">
              <button class="px-4 h-9 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition"
                (click)="verDetalle(mantenimiento.id)">
                Ver Detalle
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <!--  Tabla ESTÁTICA (mock cuando NO hay mantenimientos) -->
      <table *ngIf="mantenimientos.length === 0" class="w-full text-sm text-left text-slate-500">
        <thead class="text-xs text-slate-700 uppercase bg-slate-50">
          <tr>
            <th class="px-6 py-3">ID</th>
            <th class="px-6 py-3">AERONAVE</th>
            <th class="px-6 py-3">FECHA PROGRAMADA</th>
            <th class="px-6 py-3">ESTADO</th>
            <th class="px-6 py-3 text-right">ACCIONES</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let item of mantenimientosMock" class="bg-white border-b">
            <td class="px-6 py-4 font-medium text-slate-900">{{ item.id }}</td>
            <td class="px-6 py-4">{{ item.tipo_mantenimiento_id }}</td>
            <td class="px-6 py-4">{{ item.fecha }}</td>

            <td class="px-6 py-4">
              <span class="inline-flex items-center gap-1.5 py-1 px-2.5 rounded-full text-xs font-medium bg-slate-200 text-slate-700">
                {{ item.estado }}
              </span>
            </td>

            <td class="px-6 py-4 text-right">
              <button class="px-4 h-9 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition"
                (click)="verDetalle(item.id)">
                Ver Detalle
              </button>
            </td>
          </tr>
        </tbody>
      </table>

    </div>

  </div>
</main>
